{% extends "base.html" %}

{% block content %}
<div style="width:900px; margin:40px auto;">

    <h2>Pending Attendance Approvals</h2>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        {% for message in messages %}
          <p style="color:green;">{{ message }}</p>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <table border="1" cellpadding="10" cellspacing="0" width="100%">
        <tr>
            <th>ID</th>
            <th>Roll No</th>
            <th>Date</th>
            <th>Time</th>
            <th>Status</th>
            <th>Action</th>
        </tr>

        {% for row in pending %}
        <tr>
            <td>{{ row.id }}</td>
            <td>{{ row.roll_no }}</td>
            <td>{{ row.date }}</td>
            <td>{{ row.time }}</td>
            <td>{{ row.status }}</td>
            <td>
                <a href="{{ url_for('approve', attendance_id=row.id) }}">
                    <button style="background:green; color:white; padding:5px 10px;">
                        Approve
                    </button>
                </a>
            </td>
        </tr>
        {% endfor %}
    </table>

    {% if pending|length == 0 %}
        <p style="margin-top:20px;">No pending attendance requests.</p>
    {% endif %}

</div>
{% endblock %}